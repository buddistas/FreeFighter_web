# Исправление предвзятости BodyHunter vs LegHunter

## Проблема

BodyHunter и LegHunter механически идентичны:
- Оба удваивают крит-шанс с 5% до 10%
- Оба работают одинаково, только для разных зон (mid и low)
- При полностью случайном выборе действий все зоны равновероятны (33% каждая)

**Но в результатах турниров BodyHunter всегда показывал лучшие результаты, чем LegHunter.**

## Причина

Проблема была в том, что **порядок бойцов влиял на результат боя**:

1. В `Fight.simulate()` первый боец (fighter1) **всегда атаковал первым**
2. В турнире бои создавались как `new Fight(this.fighters[i], this.fighters[j])`
3. Бойцы с меньшими индексами в массиве чаще атаковали первыми
4. **Атака первым дает преимущество** (около 2-3% винрейта)

### Доказательство проблемы:

**До исправления:**
- BodyHunter vs LegHunter (BodyHunter первый): BodyHunter выигрывал 64.02%
- LegHunter vs BodyHunter (LegHunter первый): LegHunter выигрывал 63.76%
- Разница: **24.46%** в зависимости от порядка!

**После исправления:**
- BodyHunter vs LegHunter (BodyHunter первый): BodyHunter выигрывает 51.38%
- LegHunter vs BodyHunter (LegHunter первый): LegHunter выигрывает 50.48%
- Объединенные результаты: разница **0.90%** (статистическая вариация)

## Исправление

Изменено в двух местах:

1. **В `Fight.simulate()`:**
   ```javascript
   // Было:
   let fighter1Attacking = true;
   
   // Стало:
   let fighter1Attacking = Math.random() < 0.5; // Случайный порядок
   ```

2. **В `Fight.simulateTieRound()`:**
   ```javascript
   // Было:
   let fighter1Attacking = true;
   
   // Стало:
   let fighter1Attacking = Math.random() < 0.5; // Случайный порядок
   ```

Теперь порядок атакующих **случайный** в каждом бою, что устраняет предвзятость.

## Результаты

После исправления BodyHunter и LegHunter показывают **примерно одинаковые результаты** (разница <1%), что соответствует их механической идентичности.

## Рекомендация

**Провести новые турниры с исправленным кодом**, чтобы получить корректные результаты без предвзятости.

